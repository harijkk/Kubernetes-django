apiVersion: v1
kind: Pod
metadata:
  name: "{{ include "django-notes.fullname" . }}-test-django"
  labels:
    {{- include "django-notes.labels" . | nindent 4 }}
  annotations:
    "helm.sh/hook": test
spec:
  restartPolicy: Never
  containers:
  - name: curl
    image: curlimages/curl:8.0.1
    command:
      - sh
      - -c
      - >
        echo "Testing connection to Django service..." &&
        curl -sf http://{{ .Release.Name }}-django-service.default.svc.cluster.local/ &&
        echo "âœ… Django is reachable!"
